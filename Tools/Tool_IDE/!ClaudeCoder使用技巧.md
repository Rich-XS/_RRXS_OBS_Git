
# 希望 **CCA (Claude Code Agent) / CCR (Claude Code Router)** 能够像一个**精确的工人**，只执行您当下交代的**单个任务**，而不是**自动地推进**整个项目清单（例如，自动读取 `progress.md` 或 `TODO` 文件并执行下一个任务）。

---

## 解决思路：控制 Agent 的“记忆”和“启动模式”

CCA/CCR 的“自动推进”行为源于它的 **Agent 机制**和对**上下文（Context）**的依赖。要让它只执行“您交代的”，您需要控制其**启动指令**和**工作范围**。

这里提供两种最有效的控制方法：

### 方法一：使用 `/task` 或 `/command` 模式（最推荐）

当您希望 Agent 仅执行一个**孤立的、一次性**的任务时，不要使用默认的 `/chat` 或 `/session` 模式（这些模式通常会保留上下文和项目计划）。

**使用专门的隔离指令来启动任务：**

|指令/模式|作用|您的用法示例|
|---|---|---|
|**`/task [您的任务]`**|告诉 Agent 这是一个**有明确起止点的任务**。它会启动 Agent 模式，执行任务，然后**自动停止**其主动推进项目的行为。|`ccr code /task 在 index.js 文件中添加一个名为 'initProcess' 的空函数。`|
|**`/command [您的指令]`**|告诉 Agent 这是一个**直接的命令行或代码执行指令**，不涉及复杂的规划或项目推进。|`ccr code /command cat progress.md` (只查看文件内容)|

导出到 Google 表格

**🔑 核心区别：** `/task` 模式限制了 Agent 的**自主规划 (Autonomy)** 范围，使其只关注当前任务的完成，而不会自动查询“接下来要做什么”。

### 方法二：在 Prompt 中明确“停止自主规划”

如果您的 Agent 仍然倾向于自动读取项目文件（例如 `progress.md`），您需要在**主系统提示 (System Prompt)** 或**任务提示**中，**植入强制约束**。

**如何设置：**

1. **在启动 Prompt 中添加约束：** 在您的 `ccr code` 启动指令后，或者在设置 Agent 的**初始人格/指令**时，明确加入以下句子：
    
    > **“强制约束：你现在的工作模式是**'单次执行模式'**，**禁止主动**读取或参考任何项目清单（如 `progress.md` 或 `TODO.md`）来推动未被明确分配的任务。**所有任务必须由用户直接下达。**”**
    
2. **利用“擦除”指令（如果支持）：** 某些 Agent 工具支持 `\forget` 或 `\clear_context` 指令。在开始新任务之前，使用此指令**清除上一次任务遗留的上下文**，这能有效防止它“记住”上一个任务中读取的项目清单。
    

---

### 总结建议

为了实现您 **VSC_CCA+CPG** 工作流的精细控制，请采用以下策略：

- **默认操作：** 总是使用 **`/task`** 模式来下达编程指令。
    
- **配置优化：** 如果 `/task` 仍不能完全阻止，检查您的 CCA **配置文件**（通常是 `.claude-code-router.json` 或类似文件），查看是否有**Agent 模式**相关的配置项，并确保它没有默认加载任何“项目清单”文件作为起始上下文。